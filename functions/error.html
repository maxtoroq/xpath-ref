<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>fn:error</title><link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" /><link rel="stylesheet" href="../css/site.css" /><link rel="shortcut icon" href="../favicon.ico" /></head><body><div class="container"><ol class="breadcrumb"><li><a href="../">XPath Reference</a></li><li class="active">fn:error</li></ol><h1 class="page-header">fn:error</h1><p>Calling the <code>fn:error</code> function raises an application-defined
            error.</p><h2>Signatures</h2><p><pre><code class="signature"><span class="function">fn:error</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">none</span></code></pre><pre><code class="signature"><span class="function">fn:error</span><span class="parenthesis">(</span><span class="variable">$code</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:QName</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">none</span></code></pre><pre><code class="signature"><span class="function">fn:error</span><span class="parenthesis">(</span><span class="whitespace">&#xD;
    </span><span class="variable">$code</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:QName</span><span class="quantifier">?</span><span class="op">,</span><span class="whitespace"> &#xD;
    </span><span class="variable">$description</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:string</span><span class="whitespace">&#xD;
</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">none</span></code></pre><pre><code class="signature"><span class="function">fn:error</span><span class="parenthesis">(</span><span class="whitespace">&#xD;
    </span><span class="variable">$code</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:QName</span><span class="quantifier">?</span><span class="op">,</span><span class="whitespace"> &#xD;
    </span><span class="variable">$description</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:string</span><span class="op">,</span><span class="whitespace"> &#xD;
    </span><span class="variable">$error-object</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type">item</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="quantifier">*</span><span class="whitespace">&#xD;
</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">none</span></code></pre></p><h2>Properties</h2><p>This function is <a href="http://www.w3.org/TR/xpath-functions-30/#dt-nondeterministic">nondeterministic</a>, <a href="http://www.w3.org/TR/xpath-functions-30/#dt-context-independent">context-independent</a>,  and <a href="http://www.w3.org/TR/xpath-functions-30/#dt-focus-independent">focus-independent</a>. </p><h2>Rules</h2><p>This function never returns a value. Instead it always raises an error. The effect of
            the error is identical to the effect of dynamic errors raised implicitly, for example
            when an incorrect argument is supplied to a function.</p><p>The parameters to the <code>fn:error</code> function supply information that is
            associated with the error condition and that is made available to a caller that asks for
            information about the error. The error may be caught either by the host language (using
            a try/catch construct in XSLT or XQuery, for example), or by the calling application or
            external processing environment. The way in which error information is returned to the
            external processing environment is <a href="http://www.w3.org/TR/xpath-functions-30/#implementation-dependent">implementation dependent</a></p><p>If <code>fn:error</code> is called with no arguments, then its behavior is the same as
            the function call: </p><pre><code><span class="open"></span><span class="function">fn:error</span><span class="parenthesis">(</span><span class="function">fn:QName</span><span class="parenthesis">(</span><span class="op">'</span><span class="literal">http://www.w3.org/2005/xqt-errors</span><span class="op">'</span><span class="open"></span><span class="op">,</span><span class="whitespace"> </span><span class="op">'</span><span class="literal">err:FOER0000</span><span class="op">'</span><span class="parenthesis">)</span><span class="parenthesis">)</span><span class="whitespace"> </span></code></pre><p>If <code>$code</code> is the empty sequence then the effective value is the
               <code>xs:QName</code> constructed by:</p><pre><code><span class="open"></span><span class="function">fn:QName</span><span class="parenthesis">(</span><span class="op">'</span><span class="literal">http://www.w3.org/2005/xqt-errors</span><span class="op">'</span><span class="open"></span><span class="op">,</span><span class="whitespace"> </span><span class="op">'</span><span class="literal">err:FOER0000</span><span class="op">'</span><span class="parenthesis">)</span></code></pre><p>There are three pieces of information that may be associated with an error:</p><ul><li><p>The <code>$code</code> is an error code that distinguishes this error from others.
                  It is an <code>xs:QName</code>; the namespace URI conventionally identifies the
                  component, subsystem, or authority responsible for defining the meaning of the
                  error code, while the local part identifies the specific error condition. The
                  namespace URI <code>http://www.w3.org/2005/xqt-errors</code> is used for errors
                  defined in this specification; other namespace URIs may be used for errors defined
                  by the application.</p><p>If the external processing environment expects the error code to be returned as a
                  URI or a string rather than as an <code>xs:QName</code>, then an error code with
                  namespace URI <code>NS</code> and local part <code>LP</code> will be returned in
                  the form <code>NS#LP</code>. The namespace URI part of the error code should
                  therefore not include a fragment identifier.</p></li><li><p>The <code>$description</code> is a natural-language description of the error
                  condition.</p></li><li><p>The <code>$error-object</code> is an arbitrary value used to convey additional
                  information about the error, and may be used in any way the application
                  chooses.</p></li></ul><h2>Error Conditions</h2><p>This function always raises a dynamic error. By default, it raises [<a href="http://www.w3.org/TR/xpath-functions-30/#ERRFOER0000">ERRFOER0000</a>]</p><h2>Notes</h2><p>The value of the <code>$description</code> parameter may need to be localized.</p><p>The type none is a special type defined in <a href="http://www.w3.org/TR/xquery-semantics/">[XQuery 1.0 and XPath 2.0 Formal Semantics]</a> and is not available to the user. It indicates that the function never returns and
            ensures that it has the correct static type.</p><p>Any QName may be used as an error code; there are no reserved names or
         namespaces. The error is always classified as a dynamic error, even if the error code used is
         one that is normally used for static errors or type errors.</p><h2>Examples</h2><p>The expression <code>fn:error()</code> raises error <code>FOER0000</code>. (This returns the URI <code>http://www.w3.org/2005/xqt-errors#FOER0000</code> (or the corresponding
                  <code>xs:QName</code>) to the external processing environment, unless the error is
                  caught using a try/catch construct in the host language.).</p><p>The expression <code>fn:error(fn:QName('http://www.example.com/HR', 'myerr:toohighsal'), 'Does not
               apply because salary is too high')</code> raises error <code>myerr:toohighsal</code>. (This  returns
               <code>http://www.example.com/HR#toohighsal</code> and the <code>xs:string</code>
               <code>"Does not apply because salary is too high"</code> (or the corresponding
               <code>xs:QName</code>) to the external processing environment, unless the error is
               caught using a try/catch construct in the host language.).</p><section><h2>See Also</h2><ul><li><a href="http://www.w3.org/TR/xpath-functions-30/#func-error">XPath and XQuery Functions and Operators 3.0</a></li><li><a href="http://www.saxonica.com/documentation/html/functions/fn/error.html">Saxon Function Library</a></li></ul></section></div><footer><div class="container"><small class="copyright">Portions of this document were copied from <a href="http://www.w3.org/TR/2014/REC-xpath-functions-30-20140408/xpath-functions-30.xml">XPath and XQuery Functions and Operators 3.0</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a>&nbsp;©&nbsp;2014&nbsp;<a href="http://www.w3.org/"><acronym title="World Wide Web Consortium">W3C</acronym></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><acronym title="Massachusetts Institute of Technology">MIT</acronym></a>, <a href="http://www.ercim.eu/"><acronym title="European Research Consortium for Informatics and Mathematics">ERCIM</acronym></a>, <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>), All Rights Reserved.</small></div></footer></body></html>