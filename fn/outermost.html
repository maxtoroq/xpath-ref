<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" itemscope="itemscope" itemtype="http://schema.org/WebPage">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta name="viewport" content="width=device-width,initial-scale=1.0" />
      <title>fn:outermost</title>
      <link rel="stylesheet" href="../bootstrap/dist/css/bootstrap.min.css" />
      <link rel="stylesheet" href="../css/site.css" />
      <link rel="shortcut icon" href="../favicon.ico" />
   </head>
   <body>
      <header role="navigation">
         <nav class="container">
            <div class="col-md-9 breadcrumb-col">
               <ol class="breadcrumb" itemprop="breadcrumb">
                  <li><a href="../">XPath Reference</a></li>
                  <li class="active">fn:outermost</li>
               </ol>
            </div>
            <div class="col-md-3 search-col">
               <form method="get" action="https://cse.google.com/cse"><input type="hidden" name="cx" value="012329136009221431645:sv1eakamyny" /><div class="input-group"><input type="search" name="q" class="form-control" placeholder="Search" /><span class="input-group-btn"><button class="btn btn-default" type="button"><i class="glyphicon glyphicon-search"></i></button></span></div>
               </form>
            </div>
         </nav>
      </header>
      <article class="container" itemscope="itemscope" itemtype="http://schema.org/WebPageElement" itemprop="mainContentOfPage">
         <header>
            <h1 class="page-header">fn:outermost</h1>
         </header>
         <p>Returns every node within the input sequence that has no ancestor that is itself a
            member of the input sequence; the nodes are returned in document order with duplicates
            eliminated.
         </p>
         <section>
            <header>
               <h2>Signature</h2>
            </header><pre><code class="signature"><span class="function">fn:outermost</span><span class="parenthesis">(</span><span class="variable">$nodes</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="node-type">node</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="quantifier">*</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="node-type">node</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="quantifier">*</span></code></pre></section>
         <section>
            <header>
               <h2>Properties</h2>
            </header>
            <p>This function is <a href="https://www.w3.org/TR/xpath-functions-31/#dt-deterministic">deterministic</a>, <a href="https://www.w3.org/TR/xpath-functions-31/#dt-context-independent">context-independent</a>,  and <a href="https://www.w3.org/TR/xpath-functions-31/#dt-focus-independent">focus-independent</a>. 
            </p>
         </section>
         <section>
            <header>
               <h2>Rules</h2>
            </header>
            <p>The effect of the function call <code>fn:outermost($nodes)</code> is defined to be
               equivalent to the result of the expression:
            </p><pre><code><span class="variable">$nodes</span><span class="filter">[</span><span class="function">not</span><span class="parenthesis">(</span><span class="axis">ancestor::</span><span class="node-type">node</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">intersect</span><span class="whitespace"> </span><span class="variable">$nodes</span><span class="parenthesis">)</span><span class="filter">]</span><span class="step">/</span><span class="context">.</span></code></pre><p>That is, the function takes as input a sequence of nodes, and returns every node within
               the sequence that does not have another node within the sequence as an ancestor; the
               nodes are returned in document order with duplicates eliminated.
            </p>
         </section>
         <section>
            <header>
               <h2>Notes</h2>
            </header>
            <p>The formulation <code>$nodes except $nodes/descendant::node()</code> might appear to be
               simpler, but does not correctly account for attribute nodes, as these are not
               descendants of their parent element.
            </p>
            <p>The motivation for the function was based on XSLT streaming use cases. There are cases
               where the <a href="http://www.w3.org/TR/xslt-30/">[XSLT 3.0]</a> streaming rules allow the construct
               <code>outermost(//section)</code> but do not allow <code>//section</code>; the
               function can therefore be useful in cases where it is known that sections will not
               be
               nested, as well as cases where the application actually wishes to process all sections
               except those that are nested within another.
            </p>
         </section>
         <section>
            <header>
               <h2>Examples</h2>
            </header>
            <p>If the source document contains nested sections represented by <code>div</code>
               elements, the expression <code>outermost(//div)</code> returns those <code>div</code>
               elements that are not contained within further <code>div</code> elements.
            </p>
         </section>
         <footer>
            <h2>See Also</h2>
            <ul>
               <li><a href="https://www.w3.org/TR/xpath-functions-31/#func-outermost">XPath 3.1 Functions and Operators</a></li>
               <li><a href="http://www.w3.org/TR/xpath-functions-30/#func-outermost">XPath 3.0 Functions and Operators</a></li>
               <li><a href="http://www.saxonica.com/html/documentation/functions/fn/outermost.html">Saxon Function Library</a></li>
            </ul>
         </footer>
      </article>
      <footer>
         <div class="container"><small class="copyright">Portions of this document were copied from <a href="https://www.w3.org/TR/2017/REC-xpath-functions-31-20170321/xpath-functions-31.xml">this file</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a>&nbsp;©&nbsp;2017&nbsp;<a href="http://www.w3.org/"><acronym title="World Wide Web Consortium">W3C</acronym></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><acronym title="Massachusetts Institute of Technology">MIT</acronym></a>, <a href="http://www.ercim.eu/"><acronym title="European Research Consortium for Informatics and Mathematics">ERCIM</acronym></a>, <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>), All Rights Reserved.</small></div>
      </footer>
   </body>
</html>